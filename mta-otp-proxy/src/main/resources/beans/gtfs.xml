<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="graphService" class="com.camsys.shims.util.otp.OTPGraphServiceFactoryBean">
        <property name="graphDirectory" value="/Users/sjacobs/work/mta-otp-work/" />
    </bean>


    <bean id="subwayGtfs" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl" autowire="byType">
        <property name="feedId" value="MTASBWY" />
        <property name="graphService" ref="graphService" />
    </bean>


    <bean id="mnrGtfsAndCalendar" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl" autowire="byType">
        <property name="feedId" value="MNR" />
        <property name="graphService" ref="graphService" />
    </bean>

    <bean id="lirrGtfsAndCalendar" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl" autowire="byType">
        <property name="feedId" value="LI" />
        <property name="graphService" ref="graphService" />
    </bean>

    <bean id="busGtfsAndCalendar" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl" autowire="byType">
        <property name="feedId" value="MTA" />
        <property name="graphService" ref="graphService" />
    </bean>

    <bean id="subwayGtfsAndCalendar" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl" autowire="byType">
        <property name="feedId" value="MTASBWY" />
        <property name="graphService" ref="graphService" />
    </bean>

    <bean id="njtRailGtfsAndCalendar" class="com.camsys.shims.util.otp.OTPGtfsDaoImpl">
        <property name="feedId" value="NJT" />
        <!--<property name="routeIdWhiteListStr" value="${njt_rail.whitelist}"/>-->
        <property name="graphService" ref="graphService" />
    </bean>



    <!--<bean id="subwayGtfsDaoToSource" class="com.camsys.shims.util.gtfs_reloader.SubwayGtfsDaoToSource" init-method="init">-->
        <!--<property name="saveLocation" value="${subway.gtfs.path}" />-->
        <!--<property name="usesS3" value="true" />-->
        <!--<property name="gtfsRelationalDao" ref="subwayGtfs" />-->
        <!--<property name="gtfsDaoSourceUrl" value="${subway.gtfs.url}"/>-->
        <!--<property name="gtfsDependencyList">-->
            <!--<list>-->
                <!--<ref bean="subwayGtfsAndCalendar" />-->
            <!--</list>-->
        <!--</property>-->
        <!--<property name="lazyTripMatcher" ref="lazyTripMatcher" />-->
        <!--<property name="tripActivator" ref="tripActivator" />-->
    <!--</bean>-->


    <!-- route adapters -->
    <bean name="defaultGtfsRouteAdapter" class="com.camsys.shims.service_status.adapters.DefaultGtfsRouteAdapter" />

    <bean name="subwayGtfsRouteAdapter" class="com.camsys.shims.service_status.adapters.AgencyReplacementRouteAdapter">
        <property name="agencyId" value="MTASBWY" />
    </bean>

    <bean name="lirrGtfsRouteAdapter" class="com.camsys.shims.service_status.adapters.RouteNameAdapter">
        <property name="gtfsAgencyId">
            <list>
                <value>${lirr.feedid}</value>
            </list>
        </property>
        <property name="gtfsMap" ref="routeNameGtfsMap" />
    </bean>

    <bean name="mnrGtfsRouteAdapter" class="com.camsys.shims.service_status.adapters.RouteNameAdapter">
        <property name="gtfsAgencyId">
            <list>
                <value>${mnr.feedid}</value>
                <value>${njt.feedid}</value>
            </list>
        </property>
        <property name="gtfsMap" ref="routeNameGtfsMap" />
    </bean>

    <bean name="njtRailGtfsRouteAdapter" class="com.camsys.shims.service_status.adapters.RouteNameAdapter">
        <property name="gtfsAgencyId">
            <list>
                <value>${njt.feedid}</value>
                <value>${mnr.feedid}</value>
            </list>
        </property>
        <property name="gtfsMap" ref="routeNameGtfsMap" />
    </bean>


</beans>